import{e as m,j as t,r as x}from"./index-f2e3d7b6.js";import{E as u,H as w,C as d,T as j}from"./handleAsync-a80247d2.js";import{u as b}from"./useTMDB-dddac186.js";import{u as _,a as y,I as f}from"./imageCard-bf6c2f38.js";import"./App-4632546c.js";async function C(a){return b("/3/movie/"+a+"?append_to_response=images")}const k=a=>{const{data:e,error:i,isLoading:o}=_(["movies",a],()=>C(a));return{movie:e,error:i,loading:o}};function T(){var c,g,h,p;const{movieId:a}=m();if(!a)return t.jsx(u,{message:"No movie found"});const{movie:e,loading:i,error:o}=k(a),{collection:l}=y(),n=(c=e==null?void 0:e.images)==null?void 0:c.logos.filter(s=>s.iso_639_1==navigator.language.slice(0,2));return t.jsx(w,{loading:i,error:o,children:t.jsxs("div",{className:"w-screen h-screen overflow-x-hidden overflow-y-scrol md:mt-16",children:[t.jsxs(d,{backgroundImage:((g=e==null?void 0:e.images)==null?void 0:g.backdrops[0].file_path)||"",relative:!0,sectionClass:"h-[calc(100vh-8rem)] flex flex-col justify-end overflow-hidden !w-screen",containerClass:`flex flex-col justify-end relative pb-20 md:pb-8
        bg-gradient-to-b from-transparent dark:to-black
        to-white opacity-100`,children:[t.jsxs("div",{className:"flex-col items-start justify-end w-full drop-shadow-lg filter overscroll-auto",children:[n!==void 0&&n.length>0?t.jsx(j,{type:"logo",path:n[0].file_path,alt:e==null?void 0:e.title,fullSize:!0,className:"drop-shadow-md filter object-contain w-sm max-h-[100%] max-w-[100%]"}):t.jsx("h1",{className:"text-4xl font-extrabold font-title",children:e==null?void 0:e.title}),t.jsxs("p",{className:"font-bold mt-4",children:[e==null?void 0:e.release_date.slice(0,4),(e==null?void 0:e.title)!=(e==null?void 0:e.original_title)&&t.jsxs(t.Fragment,{children:[" | ",t.jsx("span",{className:"italic font-thin",children:e==null?void 0:e.original_title})]})]}),t.jsxs("p",{className:"text-gray-700 dark:text-gray-400 mt-2",children:[e==null?void 0:e.vote_average.toFixed(1)," / 10"]})]}),t.jsx("div",{className:`fixed left-1/2 bottom-8 -translate-x-1/2 transform
          animate-bounce cursor-pointer`,onClick:s=>s.currentTarget.parentNode.parentNode.parentNode.parentElement.scrollBy({top:window.innerHeight*.8,behavior:"smooth"}),children:t.jsx("span",{className:"block scale-x-250 transform",children:"V"})})]}),t.jsx(d,{relative:!0,sectionClass:"w-screen overflow-hidden !w-screen",containerClass:"!bg-white !dark:bg-black !grid-cols-1 !mt-0 md:pt-16",gridClass:"!grid-cols-1 !md:grid-cols-3 !lg:grid-cols-4 !xl:grid-cols-5 !gap-4",children:(h=e==null?void 0:e.images)==null?void 0:h.posters.sort((s,r)=>r.height-s.height+(r.width-s.width)).map(s=>t.jsx(f,{type:"poster",movie_id:e.id,inCollection:!!(l!=null&&l.find(r=>r.file_path==s.file_path)),...s},s.file_path))}),t.jsx(d,{relative:!0,sectionClass:"w-screen overflow-hidden !w-screen",containerClass:"!bg-white !dark:bg-black !grid-cols-1 !mt-0 md:pt-16",gridClass:"!grid-cols-1 !md:grid-cols-3 !lg:grid-cols-4 !xl:grid-cols-5 !gap-4",children:(p=e==null?void 0:e.images)==null?void 0:p.backdrops.sort((s,r)=>r.height-s.height+(r.width-s.width)).map(s=>x.createElement(f,{type:"backdrop",movie_id:e.id,inCollection:!!(l!=null&&l.find(r=>r.file_path==s.file_path)),...s,key:s.file_path}))})]})})}export{T as default};
