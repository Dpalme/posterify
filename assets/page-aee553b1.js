import{e as f,j as t,r as m}from"./index-01ef9dc7.js";import{E as x,H as u,C as j,T as _}from"./handleAsync-20959bde.js";import{u as y}from"./useTMDB-4048cb23.js";import{u as N,a as w,I as g}from"./imageCard-a90a2cfd.js";import"./App-b1909745.js";async function b(r){return y("/3/movie/"+r+"?append_to_response=images")}const k=r=>{const{data:e,error:l,isLoading:d}=N(["movies",r],()=>b(r));return{movie:e,error:l,loading:d}};function B(){var o,c,h,p;const{movieId:r}=f();if(!r)return t.jsx(x,{message:"No movie found"});const{movie:e,loading:l,error:d}=k(r),{collection:i}=w(),n=(o=e==null?void 0:e.images)==null?void 0:o.logos.filter(s=>s.iso_639_1==navigator.language.slice(0,2));return t.jsx(u,{loading:l,error:d,children:t.jsxs(j,{backgroundImage:((c=e==null?void 0:e.images)==null?void 0:c.backdrops[0].file_path)||"",children:[t.jsx("div",{className:"h-[100vh - 3.5rem]",children:t.jsxs("div",{className:`flex-col 
            md:fixed md:bottom-8 md:items-start md:justify-end md:w-full md:drop-shadow-lg md:filter md:overscroll-auto`,children:[n!==void 0&&n.length>0?t.jsx(_,{type:"logo",path:n[0].file_path,alt:e==null?void 0:e.title,className:"drop-shadow-md filter object-contain w-full max-h-[100%] max-w-[100%]"}):t.jsx("h1",{className:"text-4xl font-extrabold font-title",children:e==null?void 0:e.title}),t.jsxs("p",{className:"font-bold",children:[e==null?void 0:e.release_date.slice(0,4),(e==null?void 0:e.title)!=(e==null?void 0:e.original_title)&&t.jsxs(t.Fragment,{children:[" | ",t.jsx("span",{className:"italic font-thin",children:e==null?void 0:e.original_title})]})]}),t.jsxs("p",{className:"text-gray-700 dark:text-gray-400 mt-4",children:[e==null?void 0:e.vote_average.toFixed(1)," / 10"]})]})}),t.jsx("div",{className:"md:col-start-2 animate-slide-in-left",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[(h=e==null?void 0:e.images)==null?void 0:h.backdrops.sort((s,a)=>a.height-s.height+(a.width-s.width)).map(s=>m.createElement(g,{type:"backdrop",movie_id:e.id,inCollection:!!(i!=null&&i.find(a=>a.file_path==s.file_path)),...s,key:s.file_path})),(p=e==null?void 0:e.images)==null?void 0:p.posters.sort((s,a)=>a.height-s.height+(a.width-s.width)).map(s=>t.jsx(g,{type:"poster",movie_id:e.id,inCollection:!!(i!=null&&i.find(a=>a.file_path==s.file_path)),...s},s.file_path))]})})]})})}export{B as default};
