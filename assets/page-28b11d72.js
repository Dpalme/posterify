import{j as r,N as l}from"./index-3f57a21e.js";import{C as g,H as c,T as p}from"./handleAsync-3e752732.js";import{u as d}from"./useTMDB-4048cb23.js";import{u as m,I as u}from"./infinteScrollerTrigger-147fed10.js";import{F as f}from"./fallbackPosters-c8b90ec8.js";async function x(s){return d("/3/movie/popular?page="+s)}const h=()=>{const{data:s,error:a,isLoading:o,fetchNextPage:t,hasNextPage:i}=m(["feed"],({pageParam:e=1})=>x(e),{getNextPageParam:(e,n)=>e.page+1<e.total_pages?e.page+1:null,getPreviousPageParam:(e,n)=>e.page-1>0?e.page-1:null});return{movies:s==null?void 0:s.pages.flatMap(e=>e.results),error:a,loading:o,fetchNextPage:t,hasNextPage:i}},F=()=>{const{movies:s,error:a,loading:o,fetchNextPage:t,hasNextPage:i}=h();return r.jsx(g,{containerClass:"!grid-cols-1",children:r.jsx("div",{className:`grid grid-cols-2 md:grid-cols-4
        lg:grid-cols-6 xl:grid-cols-8 gap-2`,children:r.jsxs(c,{loading:o,error:a,fallback:r.jsx(f,{numberOfPosters:25}),children:[s!==void 0&&s.map(e=>r.jsx(l,{to:`/movie/${e.id}`,className:`scale-100 hover:scale-110 transform
                transition-transform duration-300`,children:r.jsx(p,{type:"poster",path:e.poster_path})},e.id)),i&&r.jsx(u,{fetchNextPage:t,padding:32})]})})})};export{F as default};
