import{b as f,j as a}from"./index-f1810598.js";import{u as x,E as h,H as u,C as _,T as j}from"./handleAsync-07793997.js";import{u as m}from"./useTMDB-be268a36.js";import{u as y,I as g}from"./imageCard-888fdf2a.js";import"./App-f63be5d2.js";import"./index-6d2467d1.js";async function b(e){return m("/3/movie/"+e+"?append_to_response=images")}const N=e=>{const{data:s,error:i,isLoading:n}=x(["movies",e],()=>b(e));return{movie:s,error:i,loading:n}};function B(){var d,c,p;const{movieId:e}=f();if(!e)return a.jsx(h,{message:"No movie found"});const{movie:s,loading:i,error:n}=N(e),{collection:r}=y(),l=(d=s==null?void 0:s.images)==null?void 0:d.logos.filter(t=>t.iso_639_1==navigator.language.slice(0,2));return a.jsx(u,{loading:i,error:n,children:a.jsxs(_,{backgroundImage:s==null?void 0:s.backdrop_path,children:[a.jsxs("div",{className:"mt-8 sticky top-8",children:[l!==void 0&&l.length>0?a.jsx(j,{type:"logo",path:l[0].file_path,alt:s==null?void 0:s.title}):a.jsx("h1",{className:"text-4xl font-extrabold font-title",children:s==null?void 0:s.title}),a.jsxs("p",{className:"font-bold",children:[s==null?void 0:s.release_date.slice(0,4),(s==null?void 0:s.title)!=(s==null?void 0:s.original_title)&&a.jsxs(a.Fragment,{children:[" | ",a.jsx("span",{className:"italic font-thin",children:s==null?void 0:s.original_title})]})]}),a.jsxs("p",{className:"text-gray-400 mt-4",children:[s==null?void 0:s.vote_average.toFixed(1)," / 10"]})]}),a.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2
        lg:grid-cols-3 xl:grid-cols-4 gap-2`,children:[(c=s==null?void 0:s.images)==null?void 0:c.backdrops.map(t=>a.jsx(g,{type:"backdrop",movie_id:s.id,inCollection:!!(r!=null&&r.find(o=>o.file_path==t.file_path)),...t})),(p=s==null?void 0:s.images)==null?void 0:p.posters.map(t=>a.jsx(g,{type:"poster",movie_id:s.id,inCollection:!!(r!=null&&r.find(o=>o.file_path==t.file_path)),...t},t.file_path))]})]})})}export{B as default};
