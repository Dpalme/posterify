import{g as x,j as s,H as m,C as d,T as u,r as w,a as j}from"./index-17b2a292.js";import{u as b,a as y,I as f}from"./imageCard-2e38af2b.js";const _=l=>{const{data:e,error:i,isLoading:n}=b({queryKey:["movies",l],queryFn:()=>x(l)});return{movie:e,error:i,loading:n}},C=j("/movies/$movieId");function v(){var c,h,g,p;const{movieId:l}=C.useParams(),{movie:e,loading:i,error:n}=_(l),{collection:r}=y(),o=(c=e==null?void 0:e.images)==null?void 0:c.logos.filter(t=>t.iso_639_1==navigator.language.slice(0,2));return s.jsx(m,{loading:i,error:n,children:s.jsxs("div",{className:"w-screen h-screen overflow-x-hidden overflow-y-scroll md:mt-16",children:[s.jsxs(d,{backgroundImage:((h=e==null?void 0:e.images)==null?void 0:h.backdrops[0].file_path)||"",relative:!0,sectionClass:"h-[calc(100vh-8rem)] flex flex-col justify-end overflow-hidden !w-screen",containerClass:`flex flex-col justify-end relative pb-20 md:pb-8
        bg-gradient-to-b from-transparent dark:to-black
        to-white opacity-100`,children:[s.jsxs("div",{className:"flex-col items-start justify-end w-full drop-shadow-lg filter overscroll-auto",children:[o!==void 0&&o.length>0?s.jsx(u,{type:"logo",path:o[0].file_path,alt:e==null?void 0:e.title,className:"drop-shadow-md filter object-contain w-sm max-h-[100%] max-w-[100%]"}):s.jsx("h1",{className:"text-4xl font-extrabold font-title",children:e==null?void 0:e.title}),s.jsxs("p",{className:"font-bold mt-4",children:[e==null?void 0:e.release_date.slice(0,4),(e==null?void 0:e.title)!=(e==null?void 0:e.original_title)&&s.jsxs(s.Fragment,{children:[" | ",s.jsx("span",{className:"italic font-thin",children:e==null?void 0:e.original_title})]})]}),s.jsxs("p",{className:"text-gray-700 dark:text-gray-400 mt-2",children:[e==null?void 0:e.vote_average.toFixed(1)," / 10"]})]}),s.jsx("div",{className:`fixed left-1/2 bottom-8 -translate-x-1/2 transform
          animate-bounce cursor-pointer`,onClick:t=>t.currentTarget.parentNode.parentNode.parentNode.parentElement.scrollBy({top:window.innerHeight*.8,behavior:"smooth"}),children:s.jsx("span",{className:"block scale-x-250 transform",children:"V"})})]}),s.jsx(d,{relative:!0,sectionClass:"w-screen overflow-hidden !w-screen",containerClass:"!bg-white !dark:bg-black !grid-cols-1 !mt-0 md:pt-16",gridClass:"grid !grid-cols-[repeat(auto-fit,minmax(12rem,1fr))] !gap-2",children:(g=e==null?void 0:e.images)==null?void 0:g.posters.sort((t,a)=>a.height-t.height+(a.width-t.width)).map(t=>s.jsx(f,{type:"poster",movie_id:e.id,inCollection:!!(r!=null&&r.find(a=>a.file_path==t.file_path)),...t},t.file_path))}),s.jsx(d,{relative:!0,sectionClass:"w-screen overflow-hidden !w-screen",containerClass:"!bg-white !dark:bg-black !grid-cols-1 !mt-0 md:pt-16",gridClass:"!grid-cols-1 !md:grid-cols-3 !lg:grid-cols-4 !xl:grid-cols-5 !gap-4",children:(p=e==null?void 0:e.images)==null?void 0:p.backdrops.sort((t,a)=>a.height-t.height+(a.width-t.width)).map(t=>w.createElement(f,{type:"backdrop",movie_id:e.id,inCollection:!!(r!=null&&r.find(a=>a.file_path==t.file_path)),...t,key:t.file_path}))})]})})}export{v as default};
