import{d as f,j as e,r as m}from"./index-093375e2.js";import{E as x,H as u,C as j,T as _}from"./handleAsync-641bb43b.js";import{u as y}from"./useTMDB-4048cb23.js";import{u as N,a as w,I as g}from"./imageCard-fde8d48c.js";import"./App-e76cd07c.js";async function b(r){return y("/3/movie/"+r+"?append_to_response=images")}const k=r=>{const{data:s,error:l,isLoading:d}=N(["movies",r],()=>b(r));return{movie:s,error:l,loading:d}};function B(){var o,c,h,p;const{movieId:r}=f();if(!r)return e.jsx(x,{message:"No movie found"});const{movie:s,loading:l,error:d}=k(r),{collection:i}=w(),n=(o=s==null?void 0:s.images)==null?void 0:o.logos.filter(t=>t.iso_639_1==navigator.language.slice(0,2));return e.jsx(u,{loading:l,error:d,children:e.jsxs(j,{backgroundImage:((c=s==null?void 0:s.images)==null?void 0:c.backdrops[0].file_path)||"",children:[e.jsx("div",{className:"h-[100vh - 3.5rem]",children:e.jsxs("div",{className:`flex-col 
            md:fixed md:bottom-8 md:items-start md:justify-end md:w-full md:drop-shadow-lg md:filter md:overscroll-auto`,children:[n!==void 0&&n.length>0?e.jsx(_,{type:"logo",path:n[0].file_path,alt:s==null?void 0:s.title,className:"drop-shadow-md filter object-contain w-full max-h-[100%] max-w-[100%]"}):e.jsx("h1",{className:"text-4xl font-extrabold font-title",children:s==null?void 0:s.title}),e.jsxs("p",{className:"font-bold",children:[s==null?void 0:s.release_date.slice(0,4),(s==null?void 0:s.title)!=(s==null?void 0:s.original_title)&&e.jsxs(e.Fragment,{children:[" | ",e.jsx("span",{className:"italic font-thin",children:s==null?void 0:s.original_title})]})]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-400 mt-4",children:[s==null?void 0:s.vote_average.toFixed(1)," / 10"]})]})}),e.jsx("div",{className:"md:col-start-2 animate-slide-in-left",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[(h=s==null?void 0:s.images)==null?void 0:h.backdrops.sort((t,a)=>a.height-t.height+(a.width-t.width)).map(t=>m.createElement(g,{type:"backdrop",movie_id:s.id,inCollection:!!(i!=null&&i.find(a=>a.file_path==t.file_path)),...t,key:t.file_path})),(p=s==null?void 0:s.images)==null?void 0:p.posters.sort((t,a)=>a.height-t.height+(a.width-t.width)).map(t=>e.jsx(g,{type:"poster",movie_id:s.id,inCollection:!!(i!=null&&i.find(a=>a.file_path==t.file_path)),...t},t.file_path))]})})]})})}export{B as default};
