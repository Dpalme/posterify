import{r,L as N,l as oe,_ as w,u as re,j as l,R as se,a as R,b as ae,N as I}from"./index-f2785db8.js";import{i as z,a as ie,b as D,c as T,d as _,e as ce,f as ue,g as O,h as H,j as $,k as le,l as fe,m as de,r as me,s as he,n as ge,o as xe,p as pe,q as ye,t as Ce,u as ve}from"./index-6d2467d1.js";const B=r.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),V=r.createContext({}),L=r.createContext(null),P=z?r.useLayoutEffect:r.useEffect;function be(e,t,n,o){const{visualElement:s}=r.useContext(V),c=r.useContext(N),f=r.useContext(L),d=r.useContext(B).reducedMotion,x=r.useRef();o=o||c.renderer,!x.current&&o&&(x.current=o(e,{visualState:t,parent:s,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const u=x.current;return r.useInsertionEffect(()=>{u&&u.update(n,f)}),P(()=>{u&&u.render()}),r.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?P:r.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Me(e,t,n){return r.useCallback(o=>{o&&e.mount&&e.mount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):ie(n)&&(n.current=o))},[t])}function Ee(e,t){if(D(e)){const{initial:n,animate:o}=e;return{initial:n===!1||T(n)?n:void 0,animate:T(o)?o:void 0}}return e.inherit!==!1?t:{}}function Re(e){const{initial:t,animate:n}=Ee(e,r.useContext(V));return r.useMemo(()=>({initial:t,animate:n}),[F(t),F(n)])}function F(e){return Array.isArray(e)?e.join(" "):e}const G=r.createContext({}),Pe=r.createContext({}),Se=Symbol.for("motionComponentSymbol");function we({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:o,Component:s}){e&&oe(e);function c(d,x){let u;const a={...r.useContext(B),...d,layoutId:Ve(d)},{isStatic:i}=a,h=Re(d),p=o(d,i);if(!i&&z){h.visualElement=be(s,p,a,t);const y=r.useContext(Pe),C=r.useContext(N).strict;h.visualElement&&(u=h.visualElement.loadFeatures(a,C,e,y))}return r.createElement(V.Provider,{value:h},u&&h.visualElement?r.createElement(u,{visualElement:h.visualElement,...a}):null,n(s,d,Me(p,h.visualElement,x),p,i,h.visualElement))}const f=r.forwardRef(c);return f[Se]=s,f}function Ve({layoutId:e}){const t=r.useContext(G).id;return t&&e!==void 0?t+"-"+e:e}function je(e){function t(o,s={}){return we(e(o,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(o,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const k=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W(e,t,n){for(const o in t)!_(t[o])&&!ce(o,n)&&(e[o]=t[o])}function Ae({transformTemplate:e},t,n){return r.useMemo(()=>{const o=k();return ue(o,t,{enableHardwareAcceleration:!n},e),Object.assign({},o.vars,o.style)},[t])}function _e(e,t,n){const o=e.style||{},s={};return W(s,o,e),Object.assign(s,Ae(e,t,n)),e.transformValues?e.transformValues(s):s}function Le(e,t,n){const o={},s=_e(e,t,n);return e.drag&&e.dragListener!==!1&&(o.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(o.tabIndex=0),o.style=s,o}const ke=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function S(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||ke.has(e)}let U=e=>!S(e);function Ie(e){e&&(U=t=>t.startsWith("on")?!S(t):e(t))}try{Ie(require("@emotion/is-prop-valid").default)}catch{}function Te(e,t,n){const o={};for(const s in e)s==="values"&&typeof e.values=="object"||(U(s)||n===!0&&S(s)||!t&&!S(s)||e.draggable&&s.startsWith("onDrag"))&&(o[s]=e[s]);return o}const q=()=>({...k(),attrs:{}});function Fe(e,t,n,o){const s=r.useMemo(()=>{const c=q();return O(c,t,{enableHardwareAcceleration:!1},H(o),e.transformTemplate),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};W(c,e.style,e),s.style={...c,...s.style}}return s}function Ne(e=!1){return(n,o,s,{latestValues:c},f)=>{const x=($(n)?Fe:Le)(o,c,f,n),a={...Te(o,typeof n=="string",e),...x,ref:s},{children:i}=o,h=r.useMemo(()=>_(i)?i.get():i,[i]);return r.createElement(n,{...a,children:h})}}function K(e){const t=r.useRef(null);return t.current===null&&(t.current=e()),t.current}function ze(e){const t=_(e)?e.get():e;return le(t)?t.toValue():t}function De({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},o,s,c){const f={latestValues:Oe(o,s,c,e),renderState:t()};return n&&(f.mount=d=>n(o,d,f)),f}const Y=e=>(t,n)=>{const o=r.useContext(V),s=r.useContext(L),c=()=>De(e,t,o,s);return n?c():K(c)};function Oe(e,t,n,o){const s={},c=o(e,{});for(const h in c)s[h]=ze(c[h]);let{initial:f,animate:d}=e;const x=D(e),u=fe(e);t&&u&&!x&&e.inherit!==!1&&(f===void 0&&(f=t.initial),d===void 0&&(d=t.animate));let a=n?n.initial===!1:!1;a=a||f===!1;const i=a?d:f;return i&&typeof i!="boolean"&&!de(i)&&(Array.isArray(i)?i:[i]).forEach(p=>{const y=me(e,p);if(!y)return;const{transitionEnd:C,transition:j,...M}=y;for(const m in M){let g=M[m];if(Array.isArray(g)){const b=a?g.length-1:0;g=g[b]}g!==null&&(s[m]=g)}for(const m in C)s[m]=C[m]}),s}const He={useVisualState:Y({scrapeMotionValuesFromProps:he,createRenderState:q,onMount:(e,t,{renderState:n,latestValues:o})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}O(n,o,{enableHardwareAcceleration:!1},H(t.tagName),e.transformTemplate),ge(t,n)}})},$e={useVisualState:Y({scrapeMotionValuesFromProps:xe,createRenderState:k})};function Be(e,{forwardMotionProps:t=!1},n,o){return{...$(e)?He:$e,preloadedFeatures:n,useRender:Ne(t),createVisualElement:o,Component:e}}const X=je(Be);function J(){const e=r.useRef(!1);return P(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Ge(){const e=J(),[t,n]=r.useState(0),o=r.useCallback(()=>{e.current&&n(t+1)},[t]);return[r.useCallback(()=>pe.postRender(o),[o]),t]}class We extends r.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ue({children:e,isPresent:t}){const n=r.useId(),o=r.useRef(null),s=r.useRef({width:0,height:0,top:0,left:0});return r.useInsertionEffect(()=>{const{width:c,height:f,top:d,left:x}=s.current;if(t||!o.current||!c||!f)return;o.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${f}px !important;
            top: ${d}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),r.createElement(We,{isPresent:t,childRef:o,sizeRef:s},r.cloneElement(e,{ref:o}))}const A=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:s,presenceAffectsLayout:c,mode:f})=>{const d=K(qe),x=r.useId(),u=r.useMemo(()=>({id:x,initial:t,isPresent:n,custom:s,onExitComplete:a=>{d.set(a,!0);for(const i of d.values())if(!i)return;o&&o()},register:a=>(d.set(a,!1),()=>d.delete(a))}),c?void 0:[n]);return r.useMemo(()=>{d.forEach((a,i)=>d.set(i,!1))},[n]),r.useEffect(()=>{!n&&!d.size&&o&&o()},[n]),f==="popLayout"&&(e=r.createElement(Ue,{isPresent:n},e)),r.createElement(L.Provider,{value:u},e)};function qe(){return new Map}function Ke(e){return r.useEffect(()=>()=>e(),[])}const v=e=>e.key||"";function Ye(e,t){e.forEach(n=>{const o=v(n);t.set(o,n)})}function Xe(e){const t=[];return r.Children.forEach(e,n=>{r.isValidElement(n)&&t.push(n)}),t}const Je=({children:e,custom:t,initial:n=!0,onExitComplete:o,exitBeforeEnter:s,presenceAffectsLayout:c=!0,mode:f="sync"})=>{const d=r.useContext(G).forceRender||Ge()[0],x=J(),u=Xe(e);let a=u;const i=r.useRef(new Map).current,h=r.useRef(a),p=r.useRef(new Map).current,y=r.useRef(!0);if(P(()=>{y.current=!1,Ye(u,p),h.current=a}),Ke(()=>{y.current=!0,p.clear(),i.clear()}),y.current)return r.createElement(r.Fragment,null,a.map(m=>r.createElement(A,{key:v(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:c,mode:f},m)));a=[...a];const C=h.current.map(v),j=u.map(v),M=C.length;for(let m=0;m<M;m++){const g=C[m];j.indexOf(g)===-1&&!i.has(g)&&i.set(g,void 0)}return f==="wait"&&i.size&&(a=[]),i.forEach((m,g)=>{if(j.indexOf(g)!==-1)return;const b=p.get(g);if(!b)return;const Z=C.indexOf(g);let E=m;if(!E){const ee=()=>{p.delete(g),i.delete(g);const te=h.current.findIndex(ne=>ne.key===g);if(h.current.splice(te,1),!i.size){if(h.current=u,x.current===!1)return;d(),o&&o()}};E=r.createElement(A,{key:v(b),isPresent:!1,onExitComplete:ee,custom:t,presenceAffectsLayout:c,mode:f},b),i.set(g,E)}a.splice(Z,0,E)}),a=a.map(m=>{const g=m.key;return i.has(g)?m:r.createElement(A,{key:v(m),isPresent:!0,presenceAffectsLayout:c,mode:f},m)}),r.createElement(r.Fragment,null,i.size?a:a.map(m=>r.cloneElement(m)))};function Qe(){!ye.current&&Ce();const[e]=r.useState(ve.current);return e}const Ze=r.lazy(()=>w(()=>import("./page-765a4093.js"),["assets/page-765a4093.js","assets/index-f2785db8.js","assets/index-4dcd3c88.css","assets/handleAsync-d1fec055.js","assets/useTMDB-4048cb23.js","assets/infinteScrollerTrigger-c375282e.js","assets/index-6d2467d1.js"])),et=r.lazy(()=>w(()=>import("./page-9164d2a9.js"),["assets/page-9164d2a9.js","assets/index-f2785db8.js","assets/index-4dcd3c88.css","assets/handleAsync-d1fec055.js","assets/useTMDB-4048cb23.js","assets/imageCard-3962765a.js","assets/index-6d2467d1.js"])),tt=r.lazy(()=>w(()=>import("./page-a596d7a8.js"),["assets/page-a596d7a8.js","assets/index-f2785db8.js","assets/index-4dcd3c88.css","assets/imageCard-3962765a.js","assets/handleAsync-d1fec055.js","assets/index-6d2467d1.js"])),nt=r.lazy(()=>w(()=>import("./page-78aef197.js"),["assets/page-78aef197.js","assets/index-f2785db8.js","assets/index-4dcd3c88.css","assets/handleAsync-d1fec055.js","assets/useTMDB-4048cb23.js","assets/infinteScrollerTrigger-c375282e.js","assets/index-6d2467d1.js"])),ot=()=>{const e=re();return l.jsxs(se,{location:e,children:[l.jsx(R,{path:"/",element:l.jsx(Ze,{})}),l.jsx(R,{path:"/movie/:movieId",element:l.jsx(et,{})}),l.jsx(R,{path:"/collection",element:l.jsx(tt,{})}),l.jsx(R,{path:"/search/*",element:l.jsx(nt,{})})]},e.pathname)},rt="/tmdb-image-browser/assets/folder-bac3bf3a.svg",st="/tmdb-image-browser/assets/search-fb7df08c.svg",at=e=>{const t=r.useRef(null),n=ae();return l.jsx("div",{className:"flex flex-row gap-2",children:l.jsxs("form",{action:"/tmdb-image-browser/search",method:"GET",onSubmit:o=>{var s;n(`/search?query=${(s=t.current)==null?void 0:s.value}`),o.preventDefault()},className:"flex flex-col gap-2",children:[l.jsx("label",{htmlFor:"queryField",className:"hidden",children:"Search"}),l.jsxs("div",{className:"relative h-8",children:[l.jsx("input",{type:"text",name:"query",id:"queryField",className:"rounded-full px-4 pl-10 text-lg leading-8",ref:t}),l.jsx("img",{src:st,alt:"Collection",className:"absolute left-2 top-1"})]})]})})},it=()=>{const e=Qe();return l.jsxs(X.nav,{className:`flex gap-2 md:gap-8 fixed
      pl-12 py-4 md:px-4 bottom-0 md:top-0
      md:bottom-auto right-0 md:left-0
      flex-col md:flex-row backdrop-blur-lg backdrop-filter
      w-full z-20 dark:bg-black dark:text-white bg-white text-black`,initial:{y:e?0:"-100%"},animate:{y:0},transition:{duration:1},children:[l.jsx(I,{to:"/",className:"font-title text-lg navlink",children:"POSTERIFY"}),l.jsxs("div",{className:"flex gap-6 md:gap-4 items-center",children:[l.jsx(I,{to:"/collection",className:"lowercase md:text-base text-xl drop-shadow-lg navlink",children:l.jsx("img",{src:rt,alt:"Collection"})}),l.jsx(at,{})]})]})},Q=r.createContext(e=>{}),ct=e=>{const[t,n]=r.useState(void 0),o=r.useCallback(()=>{n(void 0)},[n]);return l.jsx(Q.Provider,{value:n,children:l.jsxs(Je,{initial:!0,mode:"sync",children:[e.children,!!t&&l.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed z-50 top-0 left-0 dark:bg-black
            bg-opacity-25 bg-white backdrop-blur-sm
            cursor-pointer w-screen h-screen overflow-hidden
        p-4 lg:p-16`,onClick:o,children:t})]})})};function dt(){return r.useContext(Q)}function ut(){return l.jsxs(l.Fragment,{children:[l.jsx(it,{}),l.jsx(ct,{children:l.jsx(ot,{})})]})}const mt=Object.freeze(Object.defineProperty({__proto__:null,default:ut},Symbol.toStringTag,{value:"Module"}));export{mt as A,at as S,X as m,dt as u};
