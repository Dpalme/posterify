import{j as s,N as g}from"./index-f2785db8.js";import{C as l,H as p,T as m}from"./handleAsync-d1fec055.js";import{u as c}from"./useTMDB-4048cb23.js";import{u as d,I as u}from"./infinteScrollerTrigger-c375282e.js";import"./App-08b7ce26.js";import"./index-6d2467d1.js";async function x(r){return c("/3/movie/popular?page="+r)}const f=()=>{const{data:r,error:a,isLoading:o,fetchNextPage:t,hasNextPage:i}=d(["feed"],({pageParam:e=1})=>x(e),{getNextPageParam:(e,n)=>e.page+1<e.total_pages?e.page+1:null,getPreviousPageParam:(e,n)=>e.page-1>0?e.page-1:null});return{movies:r==null?void 0:r.pages.flatMap(e=>e.results),error:a,loading:o,fetchNextPage:t,hasNextPage:i}},H=()=>{const{movies:r,error:a,loading:o,fetchNextPage:t,hasNextPage:i}=f();return s.jsxs(l,{children:[s.jsx("h1",{className:"text-6xl",children:"Homepage"}),s.jsx(p,{loading:o,error:a,children:s.jsxs("div",{className:`grid grid-cols-2 md:grid-cols-4
        lg:grid-cols-6 xl:grid-cols-8 gap-2`,children:[r!==void 0&&r.map(e=>s.jsx(g,{to:`/movie/${e.id}`,className:`scale-100 hover:scale-110 transform
                transition-transform duration-300`,children:s.jsx(m,{type:"poster",path:e.poster_path})},e.id)),i&&s.jsx(u,{fetchNextPage:t})]})})]})};export{H as default};
