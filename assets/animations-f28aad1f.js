import{p as O,r as mt,v as gt,w as he,x as gn,y as de,z as pe,A as Q,B as yt,C as ee,D as Se,E as bt,F as yn,G as ae,H as we,I as ne,J as bn,d as q,K as Ne,L as Vn,M as vn,N as An,O as Pn,m as Vt,P as Me,Q as vt,c as At,R as Fe,S as Tn,i as xn,b as Cn,l as Sn,q as wn,t as Mn,u as Fn,a as In,T as Pt,U as On,f as Dn,o as kn,V as Ln,W as Rn,s as Bn,g as Nn,n as Kn,h as jn,j as Gn}from"./index-6d2467d1.js";import{f as Tt}from"./index-f2785db8.js";function G(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const zn=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function xt(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Un=t=>e=>zn(e)&&t(e,xt(e));function oe(t,e,n,s){return G(t,e,Un(n),s)}const Hn=(t,e)=>n=>e(t(n)),U=(...t)=>t.reduce(Hn);function Ct(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Je=Ct("dragHorizontal"),Xe=Ct("dragVertical");function Wn(t){let e=!1;if(t==="y")e=Xe();else if(t==="x")e=Je();else{const n=Je(),s=Xe();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function St(){const t=Wn(!0);return t?(t(),!1):!0}class ${constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ye(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(i,o)=>{if(i.type==="touch"||St())return;const u=t.getProps();t.animationState&&u.whileHover&&t.animationState.setActive("whileHover",e),u[s]&&O.update(()=>u[s](i,o))};return oe(t.current,n,r,{passive:!t.getProps()[s]})}class _n extends ${mount(){this.unmount=U(Ye(this.node,!0),Ye(this.node,!1))}unmount(){}}class qn extends ${constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=U(G(this.node.current,"focus",()=>this.onFocus()),G(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wt=(t,e)=>e?t===e?!0:wt(t,e.parentElement):!1,I=t=>t;function be(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,xt(n))}class $n extends ${constructor(){super(...arguments),this.removeStartListeners=I,this.removeEndListeners=I,this.removeAccessibleListeners=I,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const s=this.node.getProps(),i=oe(window,"pointerup",(u,c)=>{if(!this.checkPressEnd())return;const{onTap:a,onTapCancel:l}=this.node.getProps();O.update(()=>{wt(this.node.current,u.target)?a&&a(u,c):l&&l(u,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=oe(window,"pointercancel",(u,c)=>this.cancelPress(u,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=U(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=u=>{u.key!=="Enter"||!this.checkPressEnd()||be("up",(c,a)=>{const{onTap:l}=this.node.getProps();l&&O.update(()=>l(c,a))})};this.removeEndListeners(),this.removeEndListeners=G(this.node.current,"keyup",o),be("down",(u,c)=>{this.startPress(u,c)})},n=G(this.node.current,"keydown",e),s=()=>{this.isPressing&&be("cancel",(i,o)=>this.cancelPress(i,o))},r=G(this.node.current,"blur",s);this.removeAccessibleListeners=U(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&O.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!St()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&O.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=oe(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=G(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=U(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ie=new WeakMap,Ve=new WeakMap,En=t=>{const e=Ie.get(t.target);e&&e(t)},Zn=t=>{t.forEach(En)};function Jn({root:t,...e}){const n=t||document;Ve.has(n)||Ve.set(n,{});const s=Ve.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(Zn,{root:t,...e})),s[r]}function Xn(t,e,n){const s=Jn(e);return Ie.set(t,n),s.observe(t),()=>{Ie.delete(t),s.unobserve(t)}}const Yn={some:0,all:1};class Qn extends ${constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Yn[r]},u=c=>{const{isIntersecting:a}=c;if(this.isInView===a||(this.isInView=a,i&&!a&&this.hasEnteredView))return;a&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",a);const{onViewportEnter:l,onViewportLeave:h}=this.node.getProps(),d=a?l:h;d&&d(c)};return Xn(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(es(e,n))&&this.startObserver()}unmount(){}}function es({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ts={inView:{Feature:Qn},tap:{Feature:$n},focus:{Feature:qn},hover:{Feature:_n}};function Mt(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function ns(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function ss(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function me(t,e,n){const s=t.getProps();return mt(s,e,n!==void 0?n:s.custom,ns(t),ss(t))}const rs="framerAppearId",is="data-"+gt(rs);let os=I,Ke=I;const H=t=>t*1e3,N=t=>t/1e3,as={current:!1},Ft=t=>Array.isArray(t)&&typeof t[0]=="number";function It(t){return!!(!t||typeof t=="string"&&Ot[t]||Ft(t)||Array.isArray(t)&&t.every(It))}const Y=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Ot={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Y([0,.65,.55,1]),circOut:Y([.55,0,1,.45]),backIn:Y([.31,.01,.66,-.59]),backOut:Y([.33,1.53,.69,.99])};function Dt(t){if(t)return Ft(t)?Y(t):Array.isArray(t)?t.map(Dt):Ot[t]}function cs(t,e,n,{delay:s=0,duration:r,repeat:i=0,repeatType:o="loop",ease:u,times:c}={}){const a={[e]:n};c&&(a.offset=c);const l=Dt(u);return Array.isArray(l)&&(a.easing=l),t.animate(a,{delay:s,duration:r,easing:Array.isArray(l)?"linear":l,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Qe={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},ve={},kt={};for(const t in Qe)kt[t]=()=>(ve[t]===void 0&&(ve[t]=Qe[t]()),ve[t]);function us(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const Lt=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ls=1e-7,fs=12;function hs(t,e,n,s,r){let i,o,u=0;do o=e+(n-e)/2,i=Lt(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>ls&&++u<fs);return o}function se(t,e,n,s){if(t===e&&n===s)return I;const r=i=>hs(i,0,1,t,n);return i=>i===0||i===1?i:Lt(r(i),e,s)}const ds=se(.42,0,1,1),ps=se(0,0,.58,1),Rt=se(.42,0,.58,1),ms=t=>Array.isArray(t)&&typeof t[0]!="number",Bt=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Nt=t=>e=>1-t(1-e),Kt=t=>1-Math.sin(Math.acos(t)),jt=Nt(Kt),gs=Bt(jt),Gt=se(.33,1.53,.69,.99),je=Nt(Gt),ys=Bt(je),bs=t=>(t*=2)<1?.5*je(t):.5*(2-Math.pow(2,-10*(t-1))),Vs={linear:I,easeIn:ds,easeInOut:Rt,easeOut:ps,circIn:Kt,circInOut:gs,circOut:jt,backIn:je,backInOut:ys,backOut:Gt,anticipate:bs},et=t=>{if(Array.isArray(t)){Ke(t.length===4);const[e,n,s,r]=t;return se(e,n,s,r)}else if(typeof t=="string")return Vs[t];return t},Ge=(t,e)=>n=>!!(he(n)&&gn.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),zt=(t,e,n)=>s=>{if(!he(s))return s;const[r,i,o,u]=s.match(de);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},vs=t=>ee(0,255,t),Ae={...pe,transform:t=>Math.round(vs(t))},z={test:Ge("rgb","red"),parse:zt("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ae.transform(t)+", "+Ae.transform(e)+", "+Ae.transform(n)+", "+Q(yt.transform(s))+")"};function As(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Oe={test:Ge("#"),parse:As,transform:z.transform},_={test:Ge("hsl","hue"),parse:zt("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Se.transform(Q(e))+", "+Se.transform(Q(n))+", "+Q(yt.transform(s))+")"},F={test:t=>z.test(t)||Oe.test(t)||_.test(t),parse:t=>z.test(t)?z.parse(t):_.test(t)?_.parse(t):Oe.parse(t),transform:t=>he(t)?t:t.hasOwnProperty("red")?z.transform(t):_.transform(t)},ge=(t,e,n)=>-n*t+n*e+t;function Pe(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ps({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;r=Pe(c,u,t+1/3),i=Pe(c,u,t),o=Pe(c,u,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}const Te=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},Ts=[Oe,z,_],xs=t=>Ts.find(e=>e.test(t));function tt(t){const e=xs(t);let n=e.parse(t);return e===_&&(n=Ps(n)),n}const Ut=(t,e)=>{const n=tt(t),s=tt(e),r={...n};return i=>(r.red=Te(n.red,s.red,i),r.green=Te(n.green,s.green,i),r.blue=Te(n.blue,s.blue,i),r.alpha=ge(n.alpha,s.alpha,i),z.transform(r))};function Cs(t){var e,n;return isNaN(t)&&he(t)&&(((e=t.match(de))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(bt))===null||n===void 0?void 0:n.length)||0)>0}const Ht={regex:yn,countKey:"Vars",token:"${v}",parse:I},Wt={regex:bt,countKey:"Colors",token:"${c}",parse:F.parse},_t={regex:de,countKey:"Numbers",token:"${n}",parse:pe.parse};function xe(t,{regex:e,countKey:n,token:s,parse:r}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...i.map(r)))}function ce(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&xe(n,Ht),xe(n,Wt),xe(n,_t),n}function qt(t){return ce(t).values}function $t(t){const{values:e,numColors:n,numVars:s,tokenised:r}=ce(t),i=e.length;return o=>{let u=r;for(let c=0;c<i;c++)c<s?u=u.replace(Ht.token,o[c]):c<s+n?u=u.replace(Wt.token,F.transform(o[c])):u=u.replace(_t.token,Q(o[c]));return u}}const Ss=t=>typeof t=="number"?0:t;function ws(t){const e=qt(t);return $t(t)(e.map(Ss))}const E={test:Cs,parse:qt,createTransformer:$t,getAnimatableNone:ws},Et=(t,e)=>n=>`${n>0?e:t}`;function Zt(t,e){return typeof t=="number"?n=>ge(t,e,n):F.test(t)?Ut(t,e):t.startsWith("var(")?Et(t,e):Xt(t,e)}const Jt=(t,e)=>{const n=[...t],s=n.length,r=t.map((i,o)=>Zt(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}},Ms=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=Zt(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}},Xt=(t,e)=>{const n=E.createTransformer(e),s=ce(t),r=ce(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?U(Jt(s.values,r.values),n):Et(t,e)},Yt=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},nt=(t,e)=>n=>ge(t,e,n);function Fs(t){return typeof t=="number"?nt:typeof t=="string"?F.test(t)?Ut:Xt:Array.isArray(t)?Jt:typeof t=="object"?Ms:nt}function Is(t,e,n){const s=[],r=n||Fs(t[0]),i=t.length-1;for(let o=0;o<i;o++){let u=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||I:e;u=U(c,u)}s.push(u)}return s}function Qt(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(Ke(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Is(e,s,r),u=o.length,c=a=>{let l=0;if(u>1)for(;l<t.length-2&&!(a<t[l+1]);l++);const h=Yt(t[l],t[l+1],a);return o[l](h)};return n?a=>c(ee(t[0],t[i-1],a)):c}function Os(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Yt(0,e,s);t.push(ge(n,1,r))}}function Ds(t){const e=[0];return Os(e,t.length-1),e}function ks(t,e){return t.map(n=>n*e)}function Ls(t,e){return t.map(()=>e||Rt).splice(0,t.length-1)}function ue({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=ms(s)?s.map(et):et(s),i={done:!1,value:e[0]},o=ks(n&&n.length===e.length?n:Ds(e),t),u=Qt(o,e,{ease:Array.isArray(r)?r:Ls(e,r)});return{calculatedDuration:t,next:c=>(i.value=u(c),i.done=c>=t,i)}}function en(t,e){return e?t*(1e3/e):0}const Rs=5;function tn(t,e,n){const s=Math.max(e-Rs,0);return en(n-t(s),e-s)}const Ce=.001,Bs=.01,st=10,Ns=.05,Ks=1;function js({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,i;os(t<=H(st));let o=1-e;o=ee(Ns,Ks,o),t=ee(Bs,st,N(t)),o<1?(r=a=>{const l=a*o,h=l*t,d=l-n,f=De(a,o),p=Math.exp(-h);return Ce-d/f*p},i=a=>{const h=a*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(a,2)*t,p=Math.exp(-h),A=De(Math.pow(a,2),o);return(-r(a)+Ce>0?-1:1)*((d-f)*p)/A}):(r=a=>{const l=Math.exp(-a*t),h=(a-n)*t+1;return-Ce+l*h},i=a=>{const l=Math.exp(-a*t),h=(n-a)*(t*t);return l*h});const u=5/t,c=zs(r,i,u);if(t=H(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const a=Math.pow(c,2)*s;return{stiffness:a,damping:o*2*Math.sqrt(s*a),duration:t}}}const Gs=12;function zs(t,e,n){let s=n;for(let r=1;r<Gs;r++)s=s-t(s)/e(s);return s}function De(t,e){return t*Math.sqrt(1-e*e)}const Us=["duration","bounce"],Hs=["stiffness","damping","mass"];function rt(t,e){return e.some(n=>t[n]!==void 0)}function Ws(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!rt(t,Hs)&&rt(t,Us)){const n=js(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function nn({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],i=t[t.length-1],o={done:!1,value:r},{stiffness:u,damping:c,mass:a,velocity:l,duration:h,isResolvedFromDuration:d}=Ws(s),f=l?-N(l):0,p=c/(2*Math.sqrt(u*a)),A=i-r,v=N(Math.sqrt(u/a)),b=Math.abs(A)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let g;if(p<1){const m=De(v,p);g=V=>{const P=Math.exp(-p*v*V);return i-P*((f+p*v*A)/m*Math.sin(m*V)+A*Math.cos(m*V))}}else if(p===1)g=m=>i-Math.exp(-v*m)*(A+(f+v*A)*m);else{const m=v*Math.sqrt(p*p-1);g=V=>{const P=Math.exp(-p*v*V),M=Math.min(m*V,300);return i-P*((f+p*v*A)*Math.sinh(M)+m*A*Math.cosh(M))/m}}return{calculatedDuration:d&&h||null,next:m=>{const V=g(m);if(d)o.done=m>=h;else{let P=f;m!==0&&(p<1?P=tn(g,m,V):P=0);const M=Math.abs(P)<=n,x=Math.abs(i-V)<=e;o.done=M&&x}return o.value=o.done?i:V,o}}}function it({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:c,restDelta:a=.5,restSpeed:l}){const h=t[0],d={done:!1,value:h},f=y=>u!==void 0&&y<u||c!==void 0&&y>c,p=y=>u===void 0?c:c===void 0||Math.abs(u-y)<Math.abs(c-y)?u:c;let A=n*e;const v=h+A,b=o===void 0?v:o(v);b!==v&&(A=b-h);const g=y=>-A*Math.exp(-y/s),m=y=>b+g(y),V=y=>{const C=g(y),D=m(y);d.done=Math.abs(C)<=a,d.value=d.done?b:D};let P,M;const x=y=>{f(d.value)&&(P=y,M=nn({keyframes:[d.value,p(d.value)],velocity:tn(m,y,d.value),damping:r,stiffness:i,restDelta:a,restSpeed:l}))};return x(0),{calculatedDuration:null,next:y=>{let C=!1;return!M&&P===void 0&&(C=!0,V(y),x(y)),P!==void 0&&y>P?M.next(y-P):(!C&&V(y),d)}}}const _s=t=>{const e=({timestamp:n})=>t(n);return{start:()=>O.update(e,!0),stop:()=>ae(e),now:()=>we.isProcessing?we.timestamp:performance.now()}},ot=2e4;function at(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<ot;)e+=n,s=t.next(e);return e>=ot?1/0:e}const qs={decay:it,inertia:it,tween:ue,keyframes:ue,spring:nn};function le({autoplay:t=!0,delay:e=0,driver:n=_s,keyframes:s,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:u="loop",onPlay:c,onStop:a,onComplete:l,onUpdate:h,...d}){let f=1,p=!1,A,v;const b=()=>{A&&A(),v=new Promise(T=>{A=T})};b();let g;const m=qs[r]||ue;let V;m!==ue&&typeof s[0]!="number"&&(V=Qt([0,100],s,{clamp:!1}),s=[0,100]);const P=m({...d,keyframes:s});let M;u==="mirror"&&(M=m({...d,keyframes:[...s].reverse(),velocity:-(d.velocity||0)}));let x="idle",y=null,C=null,D=null;P.calculatedDuration===null&&i&&(P.calculatedDuration=at(P));const{calculatedDuration:k}=P;let L=1/0,R=1/0;k!==null&&(L=k+o,R=L*(i+1)-o);let w=0;const S=T=>{if(C===null)return;f>0&&(C=Math.min(C,T)),f<0&&(C=Math.min(T-R/f,C)),y!==null?w=y:w=Math.round(T-C)*f;const Z=w-e*(f>=0?1:-1),We=f>=0?Z<0:Z>R;w=Math.max(Z,0),x==="finished"&&y===null&&(w=R);let _e=w,qe=P;if(i){const ye=w/L;let re=Math.floor(ye),K=ye%1;!K&&ye>=1&&(K=1),K===1&&re--,re=Math.min(re,i+1);const Ee=!!(re%2);Ee&&(u==="reverse"?(K=1-K,o&&(K-=o/L)):u==="mirror"&&(qe=M));let Ze=ee(0,1,K);w>R&&(Ze=u==="reverse"&&Ee?1:0),_e=Ze*L}const J=We?{done:!1,value:s[0]}:qe.next(_e);V&&(J.value=V(J.value));let{done:$e}=J;!We&&k!==null&&($e=f>=0?w>=R:w<=0);const mn=y===null&&(x==="finished"||x==="running"&&$e);return h&&h(J.value),mn&&pn(),J},B=()=>{g&&g.stop(),g=void 0},W=()=>{x="idle",B(),b(),C=D=null},pn=()=>{x="finished",l&&l(),B(),b()},Ue=()=>{if(p)return;g||(g=n(S));const T=g.now();c&&c(),y!==null?C=T-y:(!C||x==="finished")&&(C=T),D=C,y=null,x="running",g.start()};t&&Ue();const He={then(T,Z){return v.then(T,Z)},get time(){return N(w)},set time(T){T=H(T),w=T,y!==null||!g||f===0?y=T:C=g.now()-T/f},get duration(){const T=P.calculatedDuration===null?at(P):P.calculatedDuration;return N(T)},get speed(){return f},set speed(T){T===f||!g||(f=T,He.time=N(w))},get state(){return x},play:Ue,pause:()=>{x="paused",y=w},stop:()=>{p=!0,x!=="idle"&&(x="idle",a&&a(),W())},cancel:()=>{D!==null&&S(D),W()},complete:()=>{x="finished"},sample:T=>(C=0,S(T))};return He}const $s=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ie=10,Es=2e4,Zs=(t,e)=>e.type==="spring"||t==="backgroundColor"||!It(e.ease);function Js(t,e,{onUpdate:n,onComplete:s,...r}){if(!(kt.waapi()&&$s.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,u,c;const a=()=>{c=new Promise(b=>{u=b})};a();let{keyframes:l,duration:h=300,ease:d,times:f}=r;if(Zs(e,r)){const b=le({...r,repeat:0,delay:0});let g={done:!1,value:l[0]};const m=[];let V=0;for(;!g.done&&V<Es;)g=b.sample(V),m.push(g.value),V+=ie;f=void 0,l=m,h=V-ie,d="linear"}const p=cs(t.owner.current,e,l,{...r,duration:h,ease:d,times:f}),A=()=>p.cancel(),v=()=>{O.update(A),u(),a()};return p.onfinish=()=>{t.set(us(l,r)),s&&s(),v()},{then(b,g){return c.then(b,g)},get time(){return N(p.currentTime||0)},set time(b){p.currentTime=H(b)},get speed(){return p.playbackRate},set speed(b){p.playbackRate=b},get duration(){return N(h)},play:()=>{o||(p.play(),ae(A))},pause:()=>p.pause(),stop:()=>{if(o=!0,p.playState==="idle")return;const{currentTime:b}=p;if(b){const g=le({...r,autoplay:!1});t.setWithVelocity(g.sample(b-ie).value,g.sample(b).value,ie)}v()},complete:()=>p.finish(),cancel:v}}function Xs({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:I,pause:I,stop:I,then:i=>(i(),Promise.resolve()),cancel:I,complete:I});return e?le({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const Ys={type:"spring",stiffness:500,damping:25,restSpeed:10},Qs=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),er={type:"keyframes",duration:.8},tr={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nr=(t,{keyframes:e})=>e.length>2?er:ne.has(t)?t.startsWith("scale")?Qs(e[1]):Ys:tr,ke=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(E.test(e)||e==="0")&&!e.startsWith("url(")),sr=new Set(["brightness","contrast","saturate","opacity"]);function rr(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(de)||[];if(!s)return t;const r=n.replace(s,"");let i=sr.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const ir=/([a-z-]*)\(.*?\)/g,Le={...E,getAnimatableNone:t=>{const e=t.match(ir);return e?e.map(rr).join(" "):t}},or={...bn,color:F,backgroundColor:F,outlineColor:F,fill:F,stroke:F,borderColor:F,borderTopColor:F,borderRightColor:F,borderBottomColor:F,borderLeftColor:F,filter:Le,WebkitFilter:Le},ze=t=>or[t];function sn(t,e){let n=ze(t);return n!==Le&&(n=E),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rn=t=>/^0[^.\s]+$/.test(t);function ar(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||rn(t)}function cr(t,e,n,s){const r=ke(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=s.from!==void 0?s.from:t.get();let u;const c=[];for(let a=0;a<i.length;a++)i[a]===null&&(i[a]=a===0?o:i[a-1]),ar(i[a])&&c.push(a),typeof i[a]=="string"&&i[a]!=="none"&&i[a]!=="0"&&(u=i[a]);if(r&&c.length&&u)for(let a=0;a<c.length;a++){const l=c[a];i[l]=sn(e,u)}return i}function ur({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:u,from:c,elapsed:a,...l}){return!!Object.keys(l).length}function lr(t,e){return t[e]||t.default||t}const fr=(t,e,n,s={})=>r=>{const i=lr(s,t)||{},o=i.delay||s.delay||0;let{elapsed:u=0}=s;u=u-H(o);const c=cr(e,t,n,i),a=c[0],l=c[c.length-1],h=ke(t,a),d=ke(t,l);let f={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-u,onUpdate:p=>{e.set(p),i.onUpdate&&i.onUpdate(p)},onComplete:()=>{r(),i.onComplete&&i.onComplete()}};if(ur(i)||(f={...f,...nr(t,f)}),f.duration&&(f.duration=H(f.duration)),f.repeatDelay&&(f.repeatDelay=H(f.repeatDelay)),!h||!d||as.current||i.type===!1)return Xs(f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=Js(e,t,f);if(p)return p}return le(f)};function fe(t){return!!(q(t)&&t.add)}const hr=t=>/^\-?\d*\.?\d+$/.test(t);function dr(t,e){t.indexOf(e)===-1&&t.push(e)}function pr(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class on{constructor(){this.subscriptions=[]}add(e){return dr(this.subscriptions,e),()=>pr(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=t=>!isNaN(parseFloat(t));class gr{constructor(e,n={}){this.version="10.12.18",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:o}=we;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,O.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>O.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=mr(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new on);const s=this.events[e].add(n);return e==="change"?()=>{s(),O.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?en(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function te(t,e){return new gr(t,e)}const an=t=>e=>e.test(t),yr={test:t=>t==="auto",parse:t=>t},cn=[pe,Ne,Se,Vn,vn,An,yr],X=t=>cn.find(an(t)),br=[...cn,F,E],Vr=t=>br.find(an(t));function vr(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,te(n))}function Ar(t,e){const n=me(t,e);let{transitionEnd:s={},transition:r={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...s};for(const o in i){const u=Pn(i[o]);vr(t,o,u)}}function Pr(t,e,n){var s,r;const i=Object.keys(e).filter(u=>!t.hasValue(u)),o=i.length;if(o)for(let u=0;u<o;u++){const c=i[u],a=e[c];let l=null;Array.isArray(a)&&(l=a[0]),l===null&&(l=(r=(s=n[c])!==null&&s!==void 0?s:t.readValue(c))!==null&&r!==void 0?r:e[c]),l!=null&&(typeof l=="string"&&(hr(l)||rn(l))?l=parseFloat(l):!Vr(l)&&E.test(a)&&(l=sn(c,a)),t.addValue(c,te(l,{owner:t})),n[c]===void 0&&(n[c]=l),l!==null&&t.setBaseTarget(c,l))}}function Tr(t,e){return e?(e[t]||e.default||e).from:void 0}function xr(t,e,n){const s={};for(const r in t){const i=Tr(r,e);if(i!==void 0)s[r]=i;else{const o=n.getValue(r);o&&(s[r]=o.get())}}return s}function Cr({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function un(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");s&&(i=s);const a=[],l=r&&t.animationState&&t.animationState.getState()[r];for(const h in u){const d=t.getValue(h),f=u[h];if(!d||f===void 0||l&&Cr(l,h))continue;const p={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!d.hasAnimated){const v=t.getProps()[is];v&&(p.elapsed=window.HandoffAppearAnimations(v,h,d,O))}d.start(fr(h,d,f,t.shouldReduceMotion&&ne.has(h)?{type:!1}:p));const A=d.animation;fe(c)&&(c.add(h),A.then(()=>c.remove(h))),a.push(A)}return o&&Promise.all(a).then(()=>{o&&Ar(t,o)}),a}function Re(t,e,n={}){const s=me(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(un(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:a=0,staggerChildren:l,staggerDirection:h}=r;return Sr(t,e,a+c,l,h,n)}:()=>Promise.resolve(),{when:u}=r;if(u){const[c,a]=u==="beforeChildren"?[i,o]:[o,i];return c().then(()=>a())}else return Promise.all([i(),o(n.delay)])}function Sr(t,e,n=0,s=0,r=1,i){const o=[],u=(t.variantChildren.size-1)*s,c=r===1?(a=0)=>a*s:(a=0)=>u-a*s;return Array.from(t.variantChildren).sort(wr).forEach((a,l)=>{a.notify("AnimationStart",e),o.push(Re(a,e,{...i,delay:n+c(l)}).then(()=>a.notify("AnimationComplete",e)))}),Promise.all(o)}function wr(t,e){return t.sortNodePosition(e)}function Mr(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>Re(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=Re(t,e,n);else{const r=typeof e=="function"?me(t,e,n.custom):e;s=Promise.all(un(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const Fr=[...vt].reverse(),Ir=vt.length;function Or(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Mr(t,n,s)))}function Dr(t){let e=Or(t);const n=Lr();let s=!0;const r=(c,a)=>{const l=me(t,a);if(l){const{transition:h,transitionEnd:d,...f}=l;c={...c,...f,...d}}return c};function i(c){e=c(t)}function o(c,a){const l=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let p={},A=1/0;for(let b=0;b<Ir;b++){const g=Fr[b],m=n[g],V=l[g]!==void 0?l[g]:h[g],P=At(V),M=g===a?m.isActive:null;M===!1&&(A=b);let x=V===h[g]&&V!==l[g]&&P;if(x&&s&&t.manuallyAnimateOnMount&&(x=!1),m.protectedKeys={...p},!m.isActive&&M===null||!V&&!m.prevProp||Vt(V)||typeof V=="boolean")continue;const y=kr(m.prevProp,V);let C=y||g===a&&m.isActive&&!x&&P||b>A&&P;const D=Array.isArray(V)?V:[V];let k=D.reduce(r,{});M===!1&&(k={});const{prevResolvedValues:L={}}=m,R={...L,...k},w=S=>{C=!0,f.delete(S),m.needsAnimating[S]=!0};for(const S in R){const B=k[S],W=L[S];p.hasOwnProperty(S)||(B!==W?Me(B)&&Me(W)?!Mt(B,W)||y?w(S):m.protectedKeys[S]=!0:B!==void 0?w(S):f.add(S):B!==void 0&&f.has(S)?w(S):m.protectedKeys[S]=!0)}m.prevProp=V,m.prevResolvedValues=k,m.isActive&&(p={...p,...k}),s&&t.blockInitialAnimation&&(C=!1),C&&!x&&d.push(...D.map(S=>({animation:S,options:{type:g,...c}})))}if(f.size){const b={};f.forEach(g=>{const m=t.getBaseTarget(g);m!==void 0&&(b[g]=m)}),d.push({animation:b})}let v=!!d.length;return s&&l.initial===!1&&!t.manuallyAnimateOnMount&&(v=!1),s=!1,v?e(d):Promise.resolve()}function u(c,a,l){var h;if(n[c].isActive===a)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,a)}),n[c].isActive=a;const d=o(l,c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n}}function kr(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Mt(e,t):!1}function j(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lr(){return{animate:j(!0),whileInView:j(),whileHover:j(),whileTap:j(),whileDrag:j(),whileFocus:j(),exit:j()}}class Rr extends ${constructor(e){super(e),e.animationState||(e.animationState=Dr(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Vt(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Br=0;class Nr extends ${constructor(){super(...arguments),this.id=Br++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Kr={animation:{Feature:Rr},exit:{Feature:Nr}},ct=()=>({min:0,max:0}),ln=()=>({x:ct(),y:ct()});function jr({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Gr(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function zr(t,e){return jr(Gr(t.getBoundingClientRect(),e))}const Ur=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Hr(t){const e=Ur.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function Be(t,e,n=1){const[s,r]=Hr(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);return i?i.trim():Fe(r)?Be(r,e,n+1):r}function Wr(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const i=r.get();if(!Fe(i))return;const o=Be(i,s);o&&r.set(o)});for(const r in e){const i=e[r];if(!Fe(i))continue;const o=Be(i,s);o&&(e[r]=o,n||(n={}),n[r]===void 0&&(n[r]=i))}return{target:e,transitionEnd:n}}const _r=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),fn=t=>_r.has(t),qr=t=>Object.keys(t).some(fn),ut=t=>t===pe||t===Ne,lt=(t,e)=>parseFloat(t.split(", ")[e]),ft=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return lt(r[1],e);{const i=s.match(/^matrix\((.+)\)$/);return i?lt(i[1],t):0}},$r=new Set(["x","y","z"]),Er=Tn.filter(t=>!$r.has(t));function Zr(t){const e=[];return Er.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ht={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ft(4,13),y:ft(5,14)},Jr=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,i=getComputedStyle(r),{display:o}=i,u={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(a=>{u[a]=ht[a](s,i)}),e.render();const c=e.measureViewportBox();return n.forEach(a=>{const l=e.getValue(a);l&&l.jump(u[a]),t[a]=ht[a](c,i)}),t},Xr=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(fn);let i=[],o=!1;const u=[];if(r.forEach(c=>{const a=t.getValue(c);if(!t.hasValue(c))return;let l=n[c],h=X(l);const d=e[c];let f;if(Me(d)){const p=d.length,A=d[0]===null?1:0;l=d[A],h=X(l);for(let v=A;v<p&&d[v]!==null;v++)f?Ke(X(d[v])===f):f=X(d[v])}else f=X(d);if(h!==f)if(ut(h)&&ut(f)){const p=a.get();typeof p=="string"&&a.set(parseFloat(p)),typeof d=="string"?e[c]=parseFloat(d):Array.isArray(d)&&f===Ne&&(e[c]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(l===0||d===0)?l===0?a.set(f.transform(l)):e[c]=h.transform(d):(o||(i=Zr(t),o=!0),u.push(c),s[c]=s[c]!==void 0?s[c]:e[c],a.jump(d))}),u.length){const c=u.indexOf("height")>=0?window.pageYOffset:null,a=Jr(e,t,u);return i.length&&i.forEach(([l,h])=>{t.getValue(l).set(h)}),t.render(),xn&&c!==null&&window.scrollTo({top:c}),{target:a,transitionEnd:s}}else return{target:e,transitionEnd:s}};function Yr(t,e,n,s){return qr(e)?Xr(t,e,n,s):{target:e,transitionEnd:s}}const Qr=(t,e,n,s)=>{const r=Wr(t,e,s);return e=r.target,s=r.transitionEnd,Yr(t,e,n,s)};function ei(t,e,n){const{willChange:s}=e;for(const r in e){const i=e[r],o=n[r];if(q(i))t.addValue(r,i),fe(s)&&s.add(r);else if(q(o))t.addValue(r,te(i,{owner:t})),fe(s)&&s.remove(r);else if(o!==i)if(t.hasValue(r)){const u=t.getValue(r);!u.hasAnimated&&u.set(i)}else{const u=t.getStaticValue(r);t.addValue(r,te(u!==void 0?u:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dt=new WeakMap,hn=Object.keys(Tt),ti=hn.length,pt=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ni=Pt.length;class si{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>O.render(this.render,!1,!0);const{latestValues:u,renderState:c}=i;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Cn(n),this.isVariantNode=Sn(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:a,...l}=this.scrapeMotionValuesFromProps(n,{});for(const h in l){const d=l[h];u[h]!==void 0&&q(d)&&(d.set(u[h],!1),fe(a)&&a.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,dt.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),wn.current||Mn(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dt.delete(this.current),this.projection&&this.projection.unmount(),ae(this.notifyUpdate),ae(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=ne.has(e),r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&O.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,i){let o,u;for(let c=0;c<ti;c++){const a=hn[c],{isEnabled:l,Feature:h,ProjectionNode:d,MeasureLayout:f}=Tt[a];d&&(o=d),l(n)&&(!this.features[a]&&h&&(this.features[a]=new h(this)),f&&(u=f))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:a,drag:l,dragConstraints:h,layoutScroll:d,layoutRoot:f}=n;this.projection.setOptions({layoutId:c,layout:a,alwaysMeasureLayout:!!l||h&&In(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:f})}return u}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<pt.length;s++){const r=pt[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=ei(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<ni;s++){const r=Pt[s],i=this.props[r];(At(i)||i===!1)&&(n[r]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=te(n,{owner:this}),this.addValue(e,s)),s}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=mt(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!q(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new on),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class dn extends si{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},i){let o=xr(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),o&&(o=r(o))),i){Pr(this,s,o);const u=Qr(this,s,o,n);n=u.transitionEnd,s=u.target}return{transition:e,transitionEnd:n,...s}}}function ri(t){return window.getComputedStyle(t)}class ii extends dn{readValueFromInstance(e,n){if(ne.has(n)){const s=ze(n);return s&&s.default||0}else{const s=ri(e),r=(On(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zr(e,n)}build(e,n,s,r){Dn(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return kn(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;q(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){Ln(e,n,s,r)}}class oi extends dn{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ne.has(n)){const s=ze(n);return s&&s.default||0}return n=Rn.has(n)?n:gt(n),e.getAttribute(n)}measureInstanceViewportBox(){return ln()}scrapeMotionValuesFromProps(e,n){return Bn(e,n)}build(e,n,s,r){Nn(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){Kn(e,n,s,r)}mount(e){this.isSVGTag=jn(e.tagName),super.mount(e)}}const ai=(t,e)=>Gn(t)?new oi(e,{enableHardwareAcceleration:!1}):new ii(e,{enableHardwareAcceleration:!0}),li={renderer:ai,...Kr,...ts};export{li as default};
